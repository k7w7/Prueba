<div class="contenedor">
  <div class="modulo">Módulo de administración</div>
  <h1>administración de usuarios</h1>
  <div class="selects">
    <div *ngIf="(c.length == 0) && (d.length == 0); else Select">
      <p>Cargando...</p>
    </div>
    <ng-template #Select>
      <mat-form-field class="select">
        <mat-label>Seleccione un departamento</mat-label>
        <mat-select disableRipple >
          <mat-option *ngFor="let element of c"> {{element.nombre}} </mat-option>
        </mat-select>
      </mat-form-field>
  
      <mat-form-field class="select">
      <mat-label>Seleccione un cargo</mat-label>
      <mat-select disableRipple >
      <mat-option *ngFor="let element of d"> {{element.nombre}} </mat-option>
      </mat-select>
      </mat-form-field>
    </ng-template>

    <button mat-raised-button (click)="openDialog('0ms', '0ms')" class="boton">Crear nuevo usuario</button>
  </div>
</div> 

<hr width=100%><br>


<div *ngIf="u.length == 0; else table">
  <p>Cargando...</p>
</div>

<ng-template #table>
  <div class="contenedor">
    <table mat-table [dataSource]="u" class="mat-elevation-z8">
      <ng-container matColumnDef="nombreUsuario">
        <th mat-header-cell *matHeaderCellDef> nombre Usuario </th>
        <td mat-cell *matCellDef="let element"> {{element.nombreUsuario}} </td>
      </ng-container>
    
      <ng-container matColumnDef="primerNombre">
        <th mat-header-cell *matHeaderCellDef> nombre </th>
        <td mat-cell *matCellDef="let element"> {{element.primerNombre}} </td>
      </ng-container>
      
      <ng-container matColumnDef="primerApellido">
        <th mat-header-cell *matHeaderCellDef> Apellido </th>
        <td mat-cell *matCellDef="let element"> {{element.primerApellido}} </td>
      </ng-container>
      
      <ng-container matColumnDef="departamento.nombre">
        <th mat-header-cell *matHeaderCellDef> Departamento </th>
        <td mat-cell *matCellDef="let element"> {{element.departamento.nombre}} </td>
      </ng-container>
    
      <ng-container matColumnDef="cargo.nombre">
        <th mat-header-cell *matHeaderCellDef> Cargo </th>
        <td mat-cell *matCellDef="let element"> {{element.cargo.nombre}} </td>
      </ng-container>

      <ng-container matColumnDef="Acciones">
        <th mat-header-cell *matHeaderCellDef> Acciones </th>
        <td mat-cell *matCellDef="let element"> 
          <button mat-button style="color: rgb(21, 189, 21)" class="BotonEditar">
            <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="edit_square"></mat-icon> 
            Editar
          </button>
          <button mat-button style="color: rgb(156, 7, 7)">
            <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="delete"></mat-icon>
            Eliminar
          </button>
          
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr> 
    </table>
  </div>
</ng-template>
